---
name: Caching
menu: Extras
route: /caching
---

# Caching

Texpress provides a `CacheService` shared utility class for handling caching with redis. It provides methods to store, retrieve or delete data from a Redis cache.

## Methods

The CacheService provides the following methods:

-   `set(key: string, value: any, ttl?: number)`: sets a value for a given key, with an optional TTL (in seconds). If TTL is not specified, the default TTL value is used from the configuration file.
-   `get<K>(key: string)`: retrieves the value for a given key.
-   `delete(key: string)`: deletes the value for a given key.

## Usage

Simply, inject the `CacheService` instance where you need to use caching, and use the provided methods.

```javascript

class SomeService {
    constructor(
        // Inject the cache service instance
        private readonly cacheService: CacheService
    ) {}

    async fetchAndCacheSomeData() {
        const data = this.fetchSomeHeavyProcessedData(); // Some data to be cached
        // Set data to cache
        await this.cacheService.set('my_heavy_data', data, 1000);
        return data;
    }

    async getSomeDataFromCache() {
        // Get the cached data using cached key.
        const cachedData = await this.cacheService.get('my_heavy_data');
        if (!cachedData) {
            return this.fetchAndCacheSomeData();
        }
        return cachedData;
    }

    async clearDataFromCache() {
        await this.cacheService.del('my_heavy_data');
    }
}

```

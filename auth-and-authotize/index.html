<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/t-express/styles.2543ff947a193d7f33b1.css" id="gatsby-global-css">@import url(https://fonts.googleapis.com/css?family=Inconsolata&display=swap);@import url(https://fonts.googleapis.com/css?family=Source+Sans+Pro&display=swap);</style><meta name="generator" content="Gatsby 2.32.13"/><title data-rh="true">Authentication and Authorization | Texpress</title><meta data-rh="true" name="description" content="My awesome app using docz"/><meta data-rh="true" property="og:title" content="Authentication and Authorization"/><meta data-rh="true" property="og:description" content="My awesome app using docz"/><meta data-rh="true" property="og:type" content="website"/><meta data-rh="true" name="twitter:card" content="summary"/><meta data-rh="true" name="twitter:title" content="Authentication and Authorization"/><meta data-rh="true" name="twitter:description" content="My awesome app using docz"/><link as="script" rel="preload" href="/t-express/webpack-runtime-e79e4fa81f5e612bb23f.js"/><link as="script" rel="preload" href="/t-express/framework-e71f1967f393eaa58c72.js"/><link as="script" rel="preload" href="/t-express/styles-01f39c755545091f702d.js"/><link as="script" rel="preload" href="/t-express/app-2e9fd2dba223f210d2d0.js"/><link as="script" rel="preload" href="/t-express/a1b980b1-f61da31f6a541161307e.js"/><link as="script" rel="preload" href="/t-express/5d7e8c13e756a7e3a3726872f51441a80e402fcc-6aa295d72f433cd8160e.js"/><link as="script" rel="preload" href="/t-express/component---src-docs-auth-and-authorize-mdx-617b236b308236fe4aa0.js"/><link as="fetch" rel="preload" href="/t-express/page-data\auth-and-authotize\page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/t-express/page-data/sq/d/1635659820.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/t-express/page-data\app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="1ouyflx">.css-1ouyflx{font-family:'Source Sans Pro',sans-serif;font-size:20px;font-weight:400;line-height:1.5;color:var(--theme-ui-colors-text,#2D3747);background-color:var(--theme-ui-colors-background,#FFFFFF);}</style><div class="css-1ouyflx"><style data-emotion-css="jrjj6h">.css-jrjj6h > div{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}</style><style data-emotion-css="1ubpee3">.css-1ubpee3{min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-1ubpee3 > div{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}</style><style data-emotion-css="hbri28">.css-hbri28{box-sizing:border-box;min-width:0;min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-hbri28 > div{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}</style><div data-testid="layout" class="css-hbri28"><style data-emotion="css-global 1xva7m0">body{margin:0;padding:0;}.icon-link{display:none;}.with-overlay{overflow:hidden;}</style><style data-emotion-css="zf0iqh">.css-zf0iqh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}</style><style data-emotion-css="1tjxv7i">.css-1tjxv7i{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}</style><style data-emotion-css="238csb">.css-238csb{box-sizing:border-box;min-width:0;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}</style><main class="css-238csb"><style data-emotion-css="18wmtq">.css-18wmtq{background-color:var(--theme-ui-colors-header-bg,#F5F6F7);position:relative;z-index:1;border-bottom:1px solid var(--theme-ui-colors-border,#CED4DE);}</style><div data-testid="header" class="css-18wmtq"><style data-emotion-css="zankq9">.css-zankq9{display:none;position:absolute;top:calc(100% + 15px);left:30px;}@media screen and (max-width:57.5em){.css-zankq9{display:block;}}</style><style data-emotion-css="1s0wdqz">.css-1s0wdqz{box-sizing:border-box;min-width:0;display:none;position:absolute;top:calc(100% + 15px);left:30px;}@media screen and (max-width:57.5em){.css-1s0wdqz{display:block;}}</style><div class="css-1s0wdqz"><style data-emotion-css="4019lz">.css-4019lz{padding:0;outline:none;background:transparent;border:none;color:var(--theme-ui-colors-header-text,#2D3747);opacity:0.5;cursor:pointer;}.css-4019lz:hover{cursor:pointer;}</style><button class="css-4019lz"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button></div><style data-emotion-css="z6jak6">.css-z6jak6{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding-left:32px;padding-right:32px;position:relative;height:80px;}</style><div class="css-z6jak6"><style data-emotion-css="xenp3v">.css-xenp3v{-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;font-weight:600;font-size:24px;}</style><style data-emotion-css="1abzlu">.css-1abzlu{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;font-weight:600;font-size:24px;}</style><style data-emotion-css="ug0363">.css-ug0363{box-sizing:border-box;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;font-weight:600;font-size:24px;}</style><div data-testid="logo" class="css-ug0363"><style data-emotion-css="gyijir">.css-gyijir{font-weight:600;color:var(--theme-ui-colors-header-text,#2D3747);-webkit-text-decoration:none;text-decoration:none;}.css-gyijir:hover{color:var(--theme-ui-colors-primary,#0B5FFF);}</style><a class="css-gyijir" href="/t-express/">Texpress</a></div><style data-emotion-css="k008qs">.css-k008qs{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}</style><style data-emotion-css="80zs6q">.css-80zs6q{box-sizing:border-box;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}</style><div class="css-80zs6q"><style data-emotion-css="1is33jg">.css-1is33jg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:12px;border:none;border-radius:9999px;background-color:var(--theme-ui-colors-header-button-bg,#0B5FFF);color:var(--theme-ui-colors-header-button-color,#FFFFFF);font-size:12px;font-weight:600;cursor:pointer;}</style><button aria-label="Switch to light mode" class="css-1is33jg"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></button></div></div></div><style data-emotion-css="1nfi0ai">.css-1nfi0ai{padding-top:0;padding-bottom:0;-webkit-flex:1;-ms-flex:1;flex:1;display:grid;grid-template-columns:250px minmax(0,1fr);min-height:100vh;}@media screen and (max-width:57.5em){.css-1nfi0ai{display:block;}}</style><div class="css-1nfi0ai"><style data-emotion-css="1tn7q1x">.css-1tn7q1x{z-index:999;position:fixed;top:81px;right:0;bottom:0;left:0;background:rgba(0,0,0,0.6);-webkit-transition:all .2s ease-out;transition:all .2s ease-out;visibility:hidden;opacity:0;}</style><style data-emotion-css="h4snl3">.css-h4snl3{box-sizing:border-box;min-width:0;z-index:999;position:fixed;top:81px;right:0;bottom:0;left:0;background:rgba(0,0,0,0.6);-webkit-transition:all .2s ease-out;transition:all .2s ease-out;visibility:hidden;opacity:0;}</style><div class="css-h4snl3"></div><style data-emotion-css="1ethd5x">.css-1ethd5x{padding-top:32px;padding-bottom:32px;padding-left:32px;padding-right:32px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:-webkit-sticky;position:sticky;top:0;z-index:1;min-width:0;max-height:100vh;border-right:1px solid var(--theme-ui-colors-border,#CED4DE);overflow:auto;-webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-sidebar-bg,#FFFFFF);}@media screen and (max-width:57.5em){.css-1ethd5x{z-index:9999;display:block;position:fixed;top:81px;left:0;bottom:0;width:256px;padding-left:32px;padding-right:32px;background-color:var(--theme-ui-colors-background,#FFFFFF);-webkit-transition:-webkit-transform .2s ease-out;-webkit-transition:transform .2s ease-out;transition:transform .2s ease-out;-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);}}</style><style data-emotion-css="1li9yso">.css-1li9yso{box-sizing:border-box;min-width:0;padding-top:32px;padding-bottom:32px;padding-left:32px;padding-right:32px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:-webkit-sticky;position:sticky;top:0;z-index:1;min-width:0;max-height:100vh;border-right:1px solid var(--theme-ui-colors-border,#CED4DE);overflow:auto;-webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-sidebar-bg,#FFFFFF);}@media screen and (max-width:57.5em){.css-1li9yso{z-index:9999;display:block;position:fixed;top:81px;left:0;bottom:0;width:256px;padding-left:32px;padding-right:32px;background-color:var(--theme-ui-colors-background,#FFFFFF);-webkit-transition:-webkit-transform .2s ease-out;-webkit-transition:transform .2s ease-out;transition:transform .2s ease-out;-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);}}</style><div data-testid="sidebar" class="css-1li9yso"><style data-emotion-css="lcm9hh">.css-lcm9hh{margin-bottom:16px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div data-testid="nav-search" class="css-lcm9hh"><style data-emotion-css="1mo6uhh">.css-1mo6uhh{color:var(--theme-ui-colors-border,#CED4DE);margin-right:8px;}</style><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="css-1mo6uhh"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg><style data-emotion-css="1bbueiu">.css-1bbueiu{outline:none;background:none;border:none;color:var(--theme-ui-colors-text,#2D3747);font-size:14px;}</style><input placeholder="Type to search..." class="css-1bbueiu" value=""/></div><style data-emotion-css="1rqvyud">.css-1rqvyud{margin-top:8px;margin-bottom:8px;display:block;color:var(--theme-ui-colors-sidebar-navGroup,#2D3747);-webkit-text-decoration:none;text-decoration:none;font-size:16px;}.css-1rqvyud.active{color:var(--theme-ui-colors-sidebar-navLinkActive,#0B5FFF);}</style><a class="css-1rqvyud" href="/t-express/">Introduction</a><a class="css-1rqvyud" href="/t-express/getting-started">Getting Started</a><style data-emotion-css="1ebprri">.css-1ebprri{margin-top:16px;margin-bottom:16px;}</style><div data-testid="nav-group" class="css-1ebprri"><style data-emotion-css="1c8kbwa">.css-1c8kbwa{margin-bottom:4px;font-size:16px;font-weight:500;color:var(--theme-ui-colors-sidebar-navGroup,#2D3747);cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-1c8kbwa">Docs<style data-emotion-css="1scp5x8">.css-1scp5x8{margin-left:4px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-align-self:baseline;-ms-flex-item-align:baseline;align-self:baseline;-webkit-transform:rotateX(180deg);-ms-transform:rotateX(180deg);transform:rotateX(180deg);-webkit-transform-origin:center;-ms-transform-origin:center;transform-origin:center;-webkit-transition:-webkit-transform .3s ease-in-out;-webkit-transition:transform .3s ease-in-out;transition:transform .3s ease-in-out;}</style><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="css-1scp5x8"><polyline points="6 9 12 15 18 9"></polyline></svg></div><style data-emotion-css="1isemmb">.css-1isemmb{margin-left:8px;}</style><div data-testid="nav-group-links" class="css-1isemmb"><a class="css-1rqvyud" href="/t-express/server">Server</a><a class="css-1rqvyud" href="/t-express/middlewares">Middlewares</a><a class="css-1rqvyud" href="/t-express/exceptions">Exceptions and Handlers</a><a class="css-1rqvyud" href="/t-express/controllers">Controllers and Route Handlers</a><a class="css-1rqvyud" href="/t-express/controller-error-handling">Error Handling in Controllers</a><a aria-current="page" class="css-1rqvyud active" href="/t-express/auth-and-authotize">Authentication and Authorization</a><style data-emotion-css="1ooej63">.css-1ooej63{margin-top:8px;margin-bottom:8px;display:block;color:var(--theme-ui-colors-sidebar-tocLink,#67788a);-webkit-text-decoration:none;text-decoration:none;font-size:14px;margin-left:16px;position:relative;}.css-1ooej63.active{color:var(--theme-ui-colors-sidebar-tocLinkActive,#1D2330);}.css-1ooej63.active::before{content:"";position:absolute;display:block;top:2px;left:-8px;height:1rem;background-color:var(--theme-ui-colors-primary,#0B5FFF);-webkit-transition:width 200ms ease 0s;transition:width 200ms ease 0s;width:2px;border-radius:1px;}</style><a class=" css-1ooej63" href="/t-express/auth-and-authotize#protected-routes">Protected Routes</a><a class=" css-1ooej63" href="/t-express/auth-and-authotize#authorization">Authorization</a><a class="css-1rqvyud" href="/t-express/services">Services</a><a class="css-1rqvyud" href="/t-express/database">Database Connections and Repositories</a><a class="css-1rqvyud" href="/t-express/base-controllers">Base Controllers</a><a class="css-1rqvyud" href="/t-express/base-services">Base Services</a><a class="css-1rqvyud" href="/t-express/resource-controllers">Resource Controllers</a><a class="css-1rqvyud" href="/t-express/validators">Validators</a><a class="css-1rqvyud" href="/t-express/resusing-validators">Reusing Validators</a><a class="css-1rqvyud" href="/t-express/events">Events</a><a class="css-1rqvyud" href="/t-express/event-decorator">Event Emitter Decorator</a><a class="css-1rqvyud" href="/t-express/queues">Queues</a><a class="css-1rqvyud" href="/t-express/queue-publisher">Queue Publisher</a><a class="css-1rqvyud" href="/t-express/queue-consumer">Queue Consumer</a><a class="css-1rqvyud" href="/t-express/swagger-doc">Swagger Documentation</a></div></div><div data-testid="nav-group" class="css-1ebprri"><div class="css-1c8kbwa">Extras<style data-emotion-css="cu2sly">.css-cu2sly{margin-left:4px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-align-self:baseline;-ms-flex-item-align:baseline;align-self:baseline;-webkit-transform:rotateX(0deg);-ms-transform:rotateX(0deg);transform:rotateX(0deg);-webkit-transform-origin:center;-ms-transform-origin:center;transform-origin:center;-webkit-transition:-webkit-transform .3s ease-in-out;-webkit-transition:transform .3s ease-in-out;transition:transform .3s ease-in-out;}</style><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="css-cu2sly"><polyline points="6 9 12 15 18 9"></polyline></svg></div><div data-testid="nav-group-links" class="css-1isemmb"></div></div></div><style data-emotion-css="1w3d2mg">.css-1w3d2mg{background-color:var(--theme-ui-colors-background,#FFFFFF);position:relative;max-width:1280px;padding-top:48px;padding-bottom:48px;padding-left:32px;padding-right:32px;padding:32px;}@media screen and (max-width:57.5em){.css-1w3d2mg{padding-top:48px;padding-bottom:32px;padding-left:32px;padding-right:32px;}}</style><style data-emotion-css="kjtkh5">.css-kjtkh5{width:100%;min-width:0;max-width:1280px;margin-left:auto;margin-right:auto;padding:32px;background-color:var(--theme-ui-colors-background,#FFFFFF);position:relative;max-width:1280px;padding-top:48px;padding-bottom:48px;padding-left:32px;padding-right:32px;padding:32px;}@media screen and (max-width:57.5em){.css-kjtkh5{padding-top:48px;padding-bottom:32px;padding-left:32px;padding-right:32px;}}</style><style data-emotion-css="1307vk3">.css-1307vk3{box-sizing:border-box;min-width:0;width:100%;min-width:0;max-width:1280px;margin-left:auto;margin-right:auto;padding:32px;background-color:var(--theme-ui-colors-background,#FFFFFF);position:relative;max-width:1280px;padding-top:48px;padding-bottom:48px;padding-left:32px;padding-right:32px;padding:32px;}@media screen and (max-width:57.5em){.css-1307vk3{padding-top:48px;padding-bottom:32px;padding-left:32px;padding-right:32px;}}</style><div data-testid="main-container" class="css-1307vk3"><style data-emotion-css="1vci3bl">.css-1vci3bl{padding:0;margin:0;margin-bottom:16px;font-size:48px;font-family:'Source Sans Pro',sans-serif;line-height:1.125;font-weight:700;}</style><h1 id="authentication-and-authorization" class="css-1vci3bl">Authentication and Authorization</h1><style data-emotion-css="1ftn47p">.css-1ftn47p{padding:0;margin:0;margin-bottom:16px;}</style><p class="css-1ftn47p">Texpress comes with built-in authentication and authorization features. For authentication, you may use the <style data-emotion-css="ueqitl">.css-ueqitl{font-family:Inconsolata;}</style><code class="css-ueqitl">ProtectedRoute</code> for CMS or the <code class="css-ueqitl">APIProtectedRoute</code> decorator for APIs for creating protected routes.</p><h2 id="protected-routes"><style data-emotion-css="1r0pe6c">.css-1r0pe6c{color:inherit;-webkit-text-decoration:none;text-decoration:none;}.css-1r0pe6c:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="#protected-routes" class="css-1r0pe6c">Protected Routes</a></h2><p class="css-1ftn47p">The CMS&#x27;s <code class="css-ueqitl">ProtectedRoute</code> decorator uses the Passport&#x27;s <code class="css-ueqitl">Local Strategy</code> by storing sessions on redis to authenticate the users. You may swap this part with your own authentication logic as required. To swap this, you can change the logic of the <code class="css-ueqitl">auth</code> shared middleware being used by the <code class="css-ueqitl">ProtectedRoute</code> decorator.</p><div><style data-emotion-css="1h0sj8d">.css-1h0sj8d{padding:16px;margin:0;margin-bottom:32px;font-size:85%;margin-top:32px;text-align:left;font-family:Inconsolata;border-radius:4px;}.css-1h0sj8d dark{[object Object];}.css-1h0sj8d light{[object Object];}</style><pre class="language-typescript prism-code language-typescript css-1h0sj8d" style="font-family:Inconsolata;color:#393A34;background-color:#f6f8fa;overflow-x:auto" data-testid="code"><div class="token-line" style="font-family:Inconsolata;color:#393A34"><style data-emotion-css="1baulvz">.css-1baulvz{display:inline-block;}</style><span class="token keyword css-1baulvz" style="color:#00009f">import</span><span class="token plain css-1baulvz"> </span><span class="token punctuation css-1baulvz" style="color:#393A34">{</span><span class="token plain css-1baulvz"> Controller</span><span class="token punctuation css-1baulvz" style="color:#393A34">,</span><span class="token plain css-1baulvz"> ProtectedRoute </span><span class="token punctuation css-1baulvz" style="color:#393A34">}</span><span class="token plain css-1baulvz"> </span><span class="token keyword css-1baulvz" style="color:#00009f">from</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz" style="color:#e3116c">&#x27;core/controllers&#x27;</span><span class="token punctuation css-1baulvz" style="color:#393A34">;</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz" style="display:inline-block">
</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz"></span><span class="token decorator at operator css-1baulvz" style="color:#393A34">@</span><span class="token decorator function css-1baulvz" style="color:#d73a49">Controller</span><span class="token punctuation css-1baulvz" style="color:#393A34">(</span><span class="token string css-1baulvz" style="color:#e3116c">&#x27;/my-resource&#x27;</span><span class="token punctuation css-1baulvz" style="color:#393A34">)</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz"></span><span class="token keyword css-1baulvz" style="color:#00009f">export</span><span class="token plain css-1baulvz"> </span><span class="token keyword css-1baulvz" style="color:#00009f">class</span><span class="token plain css-1baulvz"> </span><span class="token class-name css-1baulvz">MyResourceController</span><span class="token plain css-1baulvz"> </span><span class="token punctuation css-1baulvz" style="color:#393A34">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    </span><span class="token decorator at operator css-1baulvz" style="color:#393A34">@</span><span class="token decorator function css-1baulvz" style="color:#d73a49">ProtectedRoute</span><span class="token punctuation css-1baulvz" style="color:#393A34">(</span><span class="token punctuation css-1baulvz" style="color:#393A34">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">        </span><span class="token comment css-1baulvz" style="color:#999988;font-style:italic">// Registers a protected route in CMS</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">        path</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz" style="color:#e3116c">&#x27;/&#x27;</span><span class="token punctuation css-1baulvz" style="color:#393A34">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">        method</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> HTTPMethods</span><span class="token punctuation css-1baulvz" style="color:#393A34">.</span><span class="token plain css-1baulvz">Get</span><span class="token punctuation css-1baulvz" style="color:#393A34">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    </span><span class="token punctuation css-1baulvz" style="color:#393A34">}</span><span class="token punctuation css-1baulvz" style="color:#393A34">)</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    </span><span class="token decorator at operator css-1baulvz" style="color:#393A34">@</span><span class="token decorator function css-1baulvz" style="color:#d73a49">CatchAsync</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    </span><span class="token keyword css-1baulvz" style="color:#00009f">async</span><span class="token plain css-1baulvz"> </span><span class="token function css-1baulvz" style="color:#d73a49">getMyProtectedResouces</span><span class="token punctuation css-1baulvz" style="color:#393A34">(</span><span class="token plain css-1baulvz">req</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> Request</span><span class="token punctuation css-1baulvz" style="color:#393A34">,</span><span class="token plain css-1baulvz"> res</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> Response</span><span class="token punctuation css-1baulvz" style="color:#393A34">)</span><span class="token plain css-1baulvz"> </span><span class="token punctuation css-1baulvz" style="color:#393A34">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">        </span><span class="token comment css-1baulvz" style="color:#999988;font-style:italic">// handle GET</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    </span><span class="token punctuation css-1baulvz" style="color:#393A34">}</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz"></span><span class="token punctuation css-1baulvz" style="color:#393A34">}</span></div></pre></div><p class="css-1ftn47p">Above example registers a protected route <code class="css-ueqitl">GET /my-resource</code> which throws an <code class="css-ueqitl">Unauthorized Exception</code> if the user is not logged in.<br/>
<!-- -->Similar to this, the <code class="css-ueqitl">APIProtectedRoute</code> uses Passport&#x27;s <code class="css-ueqitl">JWT Strategy</code> to authenticate the user. Again, if you need, you may swap this part with your own authentication logic as required. To swap this, you can change the logic of the <code class="css-ueqitl">jwtAuth</code> shared middleware being used by the <code class="css-ueqitl">APIProtectedRoute</code> decorator.</p><div><pre class="language-typescript prism-code language-typescript css-1h0sj8d" style="font-family:Inconsolata;color:#393A34;background-color:#f6f8fa;overflow-x:auto" data-testid="code"><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token keyword css-1baulvz" style="color:#00009f">import</span><span class="token plain css-1baulvz"> </span><span class="token punctuation css-1baulvz" style="color:#393A34">{</span><span class="token plain css-1baulvz"> ApiController</span><span class="token punctuation css-1baulvz" style="color:#393A34">,</span><span class="token plain css-1baulvz"> APIProtectedRoute </span><span class="token punctuation css-1baulvz" style="color:#393A34">}</span><span class="token plain css-1baulvz"> </span><span class="token keyword css-1baulvz" style="color:#00009f">from</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz" style="color:#e3116c">&#x27;core/controllers&#x27;</span><span class="token punctuation css-1baulvz" style="color:#393A34">;</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz" style="display:inline-block">
</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz"></span><span class="token decorator at operator css-1baulvz" style="color:#393A34">@</span><span class="token decorator function css-1baulvz" style="color:#d73a49">ApiController</span><span class="token punctuation css-1baulvz" style="color:#393A34">(</span><span class="token string css-1baulvz" style="color:#e3116c">&#x27;/my-resource&#x27;</span><span class="token punctuation css-1baulvz" style="color:#393A34">)</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz"></span><span class="token keyword css-1baulvz" style="color:#00009f">export</span><span class="token plain css-1baulvz"> </span><span class="token keyword css-1baulvz" style="color:#00009f">class</span><span class="token plain css-1baulvz"> </span><span class="token class-name css-1baulvz">ApiResourceController</span><span class="token plain css-1baulvz"> </span><span class="token punctuation css-1baulvz" style="color:#393A34">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    </span><span class="token decorator at operator css-1baulvz" style="color:#393A34">@</span><span class="token decorator function css-1baulvz" style="color:#d73a49">APIProtectedRoute</span><span class="token punctuation css-1baulvz" style="color:#393A34">(</span><span class="token punctuation css-1baulvz" style="color:#393A34">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">        </span><span class="token comment css-1baulvz" style="color:#999988;font-style:italic">// Registers a protected route for API</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">        path</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz" style="color:#e3116c">&#x27;/&#x27;</span><span class="token punctuation css-1baulvz" style="color:#393A34">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">        method</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> HTTPMethods</span><span class="token punctuation css-1baulvz" style="color:#393A34">.</span><span class="token plain css-1baulvz">Get</span><span class="token punctuation css-1baulvz" style="color:#393A34">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    </span><span class="token punctuation css-1baulvz" style="color:#393A34">}</span><span class="token punctuation css-1baulvz" style="color:#393A34">)</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    </span><span class="token keyword css-1baulvz" style="color:#00009f">async</span><span class="token plain css-1baulvz"> </span><span class="token function css-1baulvz" style="color:#d73a49">getMyProtectedResouces</span><span class="token punctuation css-1baulvz" style="color:#393A34">(</span><span class="token plain css-1baulvz">req</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> Request</span><span class="token punctuation css-1baulvz" style="color:#393A34">,</span><span class="token plain css-1baulvz"> res</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> Response</span><span class="token punctuation css-1baulvz" style="color:#393A34">)</span><span class="token plain css-1baulvz"> </span><span class="token punctuation css-1baulvz" style="color:#393A34">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">        </span><span class="token comment css-1baulvz" style="color:#999988;font-style:italic">// handle GET</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    </span><span class="token punctuation css-1baulvz" style="color:#393A34">}</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz"></span><span class="token punctuation css-1baulvz" style="color:#393A34">}</span></div></pre></div><h2 id="authorization"><a href="#authorization" class="css-1r0pe6c">Authorization</a></h2><p class="css-1ftn47p">The authorization features helps you manage permissions in the <code class="css-ueqitl">CMS</code> application. The authorization features uses the <code class="css-ueqitl">users</code>, <code class="css-ueqitl">roles</code>, <code class="css-ueqitl">permissions</code> entities to handle the permissions. Authorization can be done in two ways, action based or route based.</p><h3 id="users-roles-and-permissions"><a href="#users-roles-and-permissions" class="css-1r0pe6c">Users, Roles, and Permissions</a></h3><p class="css-1ftn47p">Permissions in the CMS are synced to the database from the <code class="css-ueqitl">cms.config.ts</code> file in the <code class="css-ueqitl">texpress-cms/src/configs</code> application directory. The permissions from this file are synced to the database when you first run the seeders when setting up <code class="css-ueqitl">texpress</code>. Along with the permissions, a user with the role of <code class="css-ueqitl">&#x27;super-admin&#x27;</code> is also created. The <code class="css-ueqitl">&#x27;super-admin&#x27;</code> role always has all the permissions allowed by default. Next time you add new modules, and their permissions to the CMS config file, you can resync these permissions with the database by clicking on the <code class="css-ueqitl">Sync Permissions</code> button in the CMS application&#x27;s Permissions page.</p><h3 id="action-based-authorization"><a href="#action-based-authorization" class="css-1r0pe6c">Action Based Authorization</a></h3><p class="css-1ftn47p">The action based authorization simply works by checking if the specified action is in the allowed permissions list of the currently authenticated user. These actions are checked against the <code class="css-ueqitl">action</code> values stored in the <code class="css-ueqitl">permissions</code> table. To use this, add the <code class="css-ueqitl">canAccess</code> middleware whilst registering routes.</p><div><pre class="language-typescript prism-code language-typescript css-1h0sj8d" style="font-family:Inconsolata;color:#393A34;background-color:#f6f8fa;overflow-x:auto" data-testid="code"><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token keyword css-1baulvz" style="color:#00009f">import</span><span class="token plain css-1baulvz"> </span><span class="token punctuation css-1baulvz" style="color:#393A34">{</span><span class="token plain css-1baulvz"> canAccess </span><span class="token punctuation css-1baulvz" style="color:#393A34">}</span><span class="token plain css-1baulvz"> </span><span class="token keyword css-1baulvz" style="color:#00009f">from</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz" style="color:#e3116c">&#x27;shared/middlewares&#x27;</span><span class="token punctuation css-1baulvz" style="color:#393A34">;</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz" style="display:inline-block">
</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz"></span><span class="token decorator at operator css-1baulvz" style="color:#393A34">@</span><span class="token decorator function css-1baulvz" style="color:#d73a49">Controller</span><span class="token punctuation css-1baulvz" style="color:#393A34">(</span><span class="token string css-1baulvz" style="color:#e3116c">&#x27;/my-resource&#x27;</span><span class="token punctuation css-1baulvz" style="color:#393A34">)</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz"></span><span class="token keyword css-1baulvz" style="color:#00009f">export</span><span class="token plain css-1baulvz"> </span><span class="token keyword css-1baulvz" style="color:#00009f">class</span><span class="token plain css-1baulvz"> </span><span class="token class-name css-1baulvz">ApiResourceController</span><span class="token plain css-1baulvz"> </span><span class="token punctuation css-1baulvz" style="color:#393A34">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    </span><span class="token decorator at operator css-1baulvz" style="color:#393A34">@</span><span class="token decorator function css-1baulvz" style="color:#d73a49">ProtectedRoute</span><span class="token punctuation css-1baulvz" style="color:#393A34">(</span><span class="token punctuation css-1baulvz" style="color:#393A34">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">        path</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz" style="color:#e3116c">&#x27;/&#x27;</span><span class="token punctuation css-1baulvz" style="color:#393A34">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">        method</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> HTTPMethods</span><span class="token punctuation css-1baulvz" style="color:#393A34">.</span><span class="token plain css-1baulvz">Get</span><span class="token punctuation css-1baulvz" style="color:#393A34">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">        middlewares</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> </span><span class="token punctuation css-1baulvz" style="color:#393A34">[</span><span class="token function css-1baulvz" style="color:#d73a49">canAccess</span><span class="token punctuation css-1baulvz" style="color:#393A34">(</span><span class="token string css-1baulvz" style="color:#e3116c">&#x27;my-resource.view&#x27;</span><span class="token punctuation css-1baulvz" style="color:#393A34">)</span><span class="token punctuation css-1baulvz" style="color:#393A34">]</span><span class="token punctuation css-1baulvz" style="color:#393A34">,</span><span class="token plain css-1baulvz"> </span><span class="token comment css-1baulvz" style="color:#999988;font-style:italic">// check if &#x27;my-resource.view&#x27; permission is allowed the user</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    </span><span class="token punctuation css-1baulvz" style="color:#393A34">}</span><span class="token punctuation css-1baulvz" style="color:#393A34">)</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    </span><span class="token keyword css-1baulvz" style="color:#00009f">async</span><span class="token plain css-1baulvz"> </span><span class="token function css-1baulvz" style="color:#d73a49">getMyProtectedResouces</span><span class="token punctuation css-1baulvz" style="color:#393A34">(</span><span class="token plain css-1baulvz">req</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> Request</span><span class="token punctuation css-1baulvz" style="color:#393A34">,</span><span class="token plain css-1baulvz"> res</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> Response</span><span class="token punctuation css-1baulvz" style="color:#393A34">)</span><span class="token plain css-1baulvz"> </span><span class="token punctuation css-1baulvz" style="color:#393A34">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">        </span><span class="token comment css-1baulvz" style="color:#999988;font-style:italic">// handle GET</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    </span><span class="token punctuation css-1baulvz" style="color:#393A34">}</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz"></span><span class="token punctuation css-1baulvz" style="color:#393A34">}</span></div></pre></div><p class="css-1ftn47p">Above example checks if the logged in user is allowed to perform the action <code class="css-ueqitl">&#x27;my-resource.view&#x27;</code>. If not, a <code class="css-ueqitl">Forbidden Exception</code> will be thrown.</p><h3 id="route-based-authorization"><a href="#route-based-authorization" class="css-1r0pe6c">Route Based Authorization</a></h3><p class="css-1ftn47p">The route based authorization checks if the users permission list is allowed to access both the <code class="css-ueqitl">route</code> as well as the <code class="css-ueqitl">HTTP method</code>. To add route based authorization, add the <code class="css-ueqitl">@CanAccess</code> decorator to the controller class.<br/>
<style data-emotion-css="1vg6q84">.css-1vg6q84{font-weight:700;}</style><strong class="css-1vg6q84">Note: For now, using <code class="css-ueqitl">@CanAccess</code> decorator will authorize all the routes registered in the controller.</strong></p><div><pre class="language-typescript prism-code language-typescript css-1h0sj8d" style="font-family:Inconsolata;color:#393A34;background-color:#f6f8fa;overflow-x:auto" data-testid="code"><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token keyword css-1baulvz" style="color:#00009f">import</span><span class="token plain css-1baulvz"> </span><span class="token punctuation css-1baulvz" style="color:#393A34">{</span><span class="token plain css-1baulvz"> Controller</span><span class="token punctuation css-1baulvz" style="color:#393A34">,</span><span class="token plain css-1baulvz"> ProtectedRoute</span><span class="token punctuation css-1baulvz" style="color:#393A34">,</span><span class="token plain css-1baulvz"> CanAccess </span><span class="token punctuation css-1baulvz" style="color:#393A34">}</span><span class="token plain css-1baulvz"> </span><span class="token keyword css-1baulvz" style="color:#00009f">from</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz" style="color:#e3116c">&#x27;core/controllers&#x27;</span><span class="token punctuation css-1baulvz" style="color:#393A34">;</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz" style="display:inline-block">
</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz"></span><span class="token decorator at operator css-1baulvz" style="color:#393A34">@</span><span class="token decorator function css-1baulvz" style="color:#d73a49">Controller</span><span class="token punctuation css-1baulvz" style="color:#393A34">(</span><span class="token string css-1baulvz" style="color:#e3116c">&#x27;/my-resource&#x27;</span><span class="token punctuation css-1baulvz" style="color:#393A34">)</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz"></span><span class="token decorator at operator css-1baulvz" style="color:#393A34">@</span><span class="token decorator function css-1baulvz" style="color:#d73a49">CanAccess</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz"></span><span class="token keyword css-1baulvz" style="color:#00009f">export</span><span class="token plain css-1baulvz"> </span><span class="token keyword css-1baulvz" style="color:#00009f">class</span><span class="token plain css-1baulvz"> </span><span class="token class-name css-1baulvz">ApiResourceController</span><span class="token plain css-1baulvz"> </span><span class="token punctuation css-1baulvz" style="color:#393A34">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    </span><span class="token decorator at operator css-1baulvz" style="color:#393A34">@</span><span class="token decorator function css-1baulvz" style="color:#d73a49">ProtectedRoute</span><span class="token punctuation css-1baulvz" style="color:#393A34">(</span><span class="token punctuation css-1baulvz" style="color:#393A34">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">        path</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz" style="color:#e3116c">&#x27;/&#x27;</span><span class="token punctuation css-1baulvz" style="color:#393A34">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">        method</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> HTTPMethods</span><span class="token punctuation css-1baulvz" style="color:#393A34">.</span><span class="token plain css-1baulvz">Get</span><span class="token punctuation css-1baulvz" style="color:#393A34">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    </span><span class="token punctuation css-1baulvz" style="color:#393A34">}</span><span class="token punctuation css-1baulvz" style="color:#393A34">)</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    </span><span class="token keyword css-1baulvz" style="color:#00009f">async</span><span class="token plain css-1baulvz"> </span><span class="token function css-1baulvz" style="color:#d73a49">getMyProtectedResouces</span><span class="token punctuation css-1baulvz" style="color:#393A34">(</span><span class="token plain css-1baulvz">req</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> Request</span><span class="token punctuation css-1baulvz" style="color:#393A34">,</span><span class="token plain css-1baulvz"> res</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> Response</span><span class="token punctuation css-1baulvz" style="color:#393A34">)</span><span class="token plain css-1baulvz"> </span><span class="token punctuation css-1baulvz" style="color:#393A34">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">        </span><span class="token comment css-1baulvz" style="color:#999988;font-style:italic">// handle GET</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    </span><span class="token punctuation css-1baulvz" style="color:#393A34">}</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz" style="display:inline-block">
</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    </span><span class="token decorator at operator css-1baulvz" style="color:#393A34">@</span><span class="token decorator function css-1baulvz" style="color:#d73a49">ProtectedRoute</span><span class="token punctuation css-1baulvz" style="color:#393A34">(</span><span class="token punctuation css-1baulvz" style="color:#393A34">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">        path</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz" style="color:#e3116c">&#x27;/&#x27;</span><span class="token punctuation css-1baulvz" style="color:#393A34">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">        method</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> HTTPMethods</span><span class="token punctuation css-1baulvz" style="color:#393A34">.</span><span class="token plain css-1baulvz">Post</span><span class="token punctuation css-1baulvz" style="color:#393A34">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    </span><span class="token punctuation css-1baulvz" style="color:#393A34">}</span><span class="token punctuation css-1baulvz" style="color:#393A34">)</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    </span><span class="token keyword css-1baulvz" style="color:#00009f">async</span><span class="token plain css-1baulvz"> </span><span class="token function css-1baulvz" style="color:#d73a49">createMyProtectedResouces</span><span class="token punctuation css-1baulvz" style="color:#393A34">(</span><span class="token plain css-1baulvz">req</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> Request</span><span class="token punctuation css-1baulvz" style="color:#393A34">,</span><span class="token plain css-1baulvz"> res</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> Response</span><span class="token punctuation css-1baulvz" style="color:#393A34">)</span><span class="token plain css-1baulvz"> </span><span class="token punctuation css-1baulvz" style="color:#393A34">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">        </span><span class="token comment css-1baulvz" style="color:#999988;font-style:italic">// handle POST</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    </span><span class="token punctuation css-1baulvz" style="color:#393A34">}</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz"></span><span class="token punctuation css-1baulvz" style="color:#393A34">}</span></div></pre></div><p class="css-1ftn47p">In above example, since the <code class="css-ueqitl">@CanAccess</code> decorator has been used, accessing any of the routes <code class="css-ueqitl">GET /my-resource</code> or <code class="css-ueqitl">POST /my-resource</code>, the permissions will be checked against the permissions list of the logged in user. For example, when a logged in user tries to access <code class="css-ueqitl">GET /my-resource</code>, a check will be made if the user has permission to perform <code class="css-ueqitl">GET</code> method on the route <code class="css-ueqitl">/my-resource</code>. If not, a <code class="css-ueqitl">Forbidden Exception</code> will be thrown.</p></div></div></main></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/auth-and-authotize";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-e0e76c9391eb6fa8ef4b.js"],"app":["/app-2e9fd2dba223f210d2d0.js"],"component---src-docs-auth-and-authorize-mdx":["/component---src-docs-auth-and-authorize-mdx-617b236b308236fe4aa0.js"],"component---src-docs-base-controllers-mdx":["/component---src-docs-base-controllers-mdx-506aedafb8774e316a44.js"],"component---src-docs-base-services-mdx":["/component---src-docs-base-services-mdx-c3c6c965ab4ceb197721.js"],"component---src-docs-controller-error-handling-mdx":["/component---src-docs-controller-error-handling-mdx-53db4d0ea211d2c06076.js"],"component---src-docs-controllers-mdx":["/component---src-docs-controllers-mdx-4d89efc3431f04d091f7.js"],"component---src-docs-database-mdx":["/component---src-docs-database-mdx-379cc7f32ddbfaeffedc.js"],"component---src-docs-events-decorator-mdx":["/component---src-docs-events-decorator-mdx-8f7be323eb8f8046c15a.js"],"component---src-docs-events-mdx":["/component---src-docs-events-mdx-ea5d6b2c64976fb22453.js"],"component---src-docs-exceptions-mdx":["/component---src-docs-exceptions-mdx-ba0ef5f536a58852b475.js"],"component---src-docs-middlewares-mdx":["/component---src-docs-middlewares-mdx-faf576eeff3bd925558c.js"],"component---src-docs-queue-consumer-mdx":["/component---src-docs-queue-consumer-mdx-41d6871cfa39baed6570.js"],"component---src-docs-queue-mdx":["/component---src-docs-queue-mdx-a52e907d1f9e9c8d358f.js"],"component---src-docs-queue-publisher-mdx":["/component---src-docs-queue-publisher-mdx-9259de3f2da70a08e073.js"],"component---src-docs-resource-controllers-mdx":["/component---src-docs-resource-controllers-mdx-26b3af5dbc7ceb2062d6.js"],"component---src-docs-reusing-validators-mdx":["/component---src-docs-reusing-validators-mdx-1f1d6618b58ad181aaca.js"],"component---src-docs-server-mdx":["/component---src-docs-server-mdx-b4e7d78086a133d9bfce.js"],"component---src-docs-services-mdx":["/component---src-docs-services-mdx-f6a6e6261e40b81de45f.js"],"component---src-docs-swagger-doc-mdx":["/component---src-docs-swagger-doc-mdx-7a48a8b39701f87d21a3.js"],"component---src-docs-validators-mdx":["/component---src-docs-validators-mdx-07bd52f1112d9017b389.js"],"component---src-extras-api-mdx":["/component---src-extras-api-mdx-1c8ec8d97cfe51ae1e91.js"],"component---src-extras-bundling-javascript-mdx":["/component---src-extras-bundling-javascript-mdx-78610ae057348cdf9926.js"],"component---src-extras-cache-decorator-mdx":["/component---src-extras-cache-decorator-mdx-0057f53feae140c7c525.js"],"component---src-extras-cache-mdx":["/component---src-extras-cache-mdx-544f2ff73cf341174dd4.js"],"component---src-extras-cms-mdx":["/component---src-extras-cms-mdx-2697f6f971e247fa6d61.js"],"component---src-extras-mail-mdx":["/component---src-extras-mail-mdx-0df5f65313edcceca0eb.js"],"component---src-extras-rate-limiter-decorator-mdx":["/component---src-extras-rate-limiter-decorator-mdx-af62d153f747bd93a45c.js"],"component---src-extras-rate-limiter-mdx":["/component---src-extras-rate-limiter-mdx-157d00b25688b44c54ca.js"],"component---src-getting-started-mdx":["/component---src-getting-started-mdx-fed189102d81982a28b3.js"],"component---src-introduction-mdx":["/component---src-introduction-mdx-b7024680ecb77cd27ca7.js"],"component---src-pages-404-js":["/component---src-pages-404-js-4fb8ba135ab7e804e041.js"]};/*]]>*/</script><script src="/t-express/polyfill-e0e76c9391eb6fa8ef4b.js" nomodule=""></script><script src="/t-express/component---src-docs-auth-and-authorize-mdx-617b236b308236fe4aa0.js" async=""></script><script src="/t-express/5d7e8c13e756a7e3a3726872f51441a80e402fcc-6aa295d72f433cd8160e.js" async=""></script><script src="/t-express/a1b980b1-f61da31f6a541161307e.js" async=""></script><script src="/t-express/app-2e9fd2dba223f210d2d0.js" async=""></script><script src="/t-express/styles-01f39c755545091f702d.js" async=""></script><script src="/t-express/framework-e71f1967f393eaa58c72.js" async=""></script><script src="/t-express/webpack-runtime-e79e4fa81f5e612bb23f.js" async=""></script></body></html>
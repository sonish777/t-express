(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{CD0W:function(e,a,t){"use strict";t.r(a),t.d(a,"_frontmatter",(function(){return s})),t.d(a,"default",(function(){return c}));var i=t("IKa1"),o=t("Yh9w"),n=(t("r0ML"),t("V0Ug")),r=t("sN0p");t("xH0s");const l=["components"],s={};void 0!==s&&s&&s===Object(s)&&Object.isExtensible(s)&&!Object.prototype.hasOwnProperty.call(s,"__filemeta")&&Object.defineProperty(s,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"src/docs/reusing-validators.mdx"}});const d={_frontmatter:s},m=r.a;function c(e){let{components:a}=e,t=Object(o.a)(e,l);return Object(n.b)(m,Object(i.a)({},d,t,{components:a,mdxType:"MDXLayout"}),Object(n.b)("h1",{id:"reusing-validators"},"Reusing Validators"),Object(n.b)("p",null,"Once a ",Object(n.b)("inlineCode",{parentName:"p"},"Validator")," has been created, you can use the ",Object(n.b)("inlineCode",{parentName:"p"},"customize()")," utility method to customize it and reuse it for validating different requests. The customize function is exported from the ",Object(n.b)("inlineCode",{parentName:"p"},"core")," package.",Object(n.b)("br",{parentName:"p"}),"\n","To customize a Validator, pass the Validator you wish to customize to the customize() utility method that returns a customizer. You can then use this customizer to remove some rules, replace rules for existing fields, or make some of the fields optional."),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-javascript"},"class CreateUserValidator\n    implements ValidatorWithStaticProps<typeof CreateUserValidator>\n{\n    static get rules(): Record<string, ValidationChain> {\n        return {\n            name: ValidationBuilder.ForField('name')\n                .Required({ fieldDisplayName: 'Name' })\n                .MinCharacters(3, { fieldDisplayName: 'Name' })\n                .MaxCharacters(25, { fieldDisplayName: 'Name' })\n                .build(),\n            email: ValidationBuilder.ForField('email')\n                .Required({ fieldDisplayName: 'Email' })\n                .IsEmail({ fieldDisplayName: 'Email' })\n                .Custom(UniqueEmailValidator)\n                .build(),\n            password: ValidationBuilder.ForField('password')\n                .If(\n                    (_value: string, { req }: Meta) =>\n                        req.body.sendActivationLink !== 'on'\n                )\n                .MinCharacters(8, { fieldDisplayName: 'password' })\n                .MaxCharacters(20, { fieldDisplayName: 'password' })\n                .build(),\n        };\n    }\n}\n")),Object(n.b)("p",null,"Now lets customize above ",Object(n.b)("inlineCode",{parentName:"p"},"CreateUserValidator")," to be used for a forgot password action which only requires the ",Object(n.b)("inlineCode",{parentName:"p"},"email")," field."),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-javascript"},"const forgotPasswordValidatorCustomizer = customize(CreateUserValidator);\nforgotPasswordValidatorCustomizer.removeRules(['name', 'password']);\nexport const ForgotPassword = forgotPasswordValidatorCustomizer.done();\n")),Object(n.b)("p",null,"Similar to this, you may also make some fields optional by using the ",Object(n.b)("inlineCode",{parentName:"p"},"makeOptional")," method or replace rules for some field by using the ",Object(n.b)("inlineCode",{parentName:"p"},"replace")," method."),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-javascript"},"// Making email field optional\nconst validatorWithOptionalEmail = customize(CreateUserValidator);\nvalidatorWithOptionalEmail.makeOptional(['email'])\nexport const ValidatorWithOptionalEmail = validatorWithOptionalEmail.done();\n\n// Replacing email field to remove the UniqueEmailValidator rule\nconst validatorWithoutUniqueEmail = customize(CreateUserValidator);\nconst validatorWithoutUniqueEmail.replace(\n    'email',\n    ValidationBuilder.ForField('email')\n        .Required({ fieldDisplayName: 'Email' })\n        .IsEmail({ fieldDisplayName: 'Email' })\n        .build()\n);\nexport const ValidatorWithoutUniqueEmail = validatorWithoutUniqueEmail.done();\n\n")))}void 0!==c&&c&&c===Object(c)&&Object.isExtensible(c)&&!Object.prototype.hasOwnProperty.call(c,"__filemeta")&&Object.defineProperty(c,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"src/docs/reusing-validators.mdx"}}),c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-docs-reusing-validators-mdx-711bef3a5fb75e337e6e.js.map
{"version":3,"sources":["webpack:///../src/docs/exceptions.mdx"],"names":["_frontmatter","Object","isExtensible","prototype","hasOwnProperty","call","defineProperty","configurable","value","name","filename","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","props","_objectWithoutProperties","_excluded","mdx","_extends","mdxType","parentName","isMDXComponent"],"mappings":"yRAMaA,EAAe,QAAG,IAAAA,UAAAC,OAAAD,IAAAC,OAAAC,aAAAF,KAAAC,OAAAE,UAAAC,eAAAC,KAAAL,EAAA,eAAAC,OAAAK,eAAAN,EAAA,cAAAO,cAAA,EAAAC,MAAA,CAAAC,KAAA,eAAAC,SAAA,6BAC/B,MAAMC,EAAc,CAClBX,gBAEIY,EAAYC,IACH,SAASC,EAAUC,GAG/B,IAHgC,WACjCC,GAEDD,EADIE,EAAKC,YAAAH,EAAAI,GAER,OAAOC,YAACR,EAASS,YAAA,GAAKV,EAAiBM,EAAK,CAAED,WAAYA,EAAYM,QAAQ,cAG5EF,YAAA,MACE,GAAM,2BAAyB,2BAEjCA,YAAA,MACE,GAAM,cAAY,cAEpBA,YAAA,uFAAkFA,YAAA,cAAYG,WAAW,KAAG,QAAsB,iBAAkBH,YAAA,cAAYG,WAAW,KAAG,iBAA+B,gCAC7MH,YAAA,UACEA,YAAA,MAAIG,WAAW,MAAI,qDACnBH,YAAA,MAAIG,WAAW,MAAI,yCACnBH,YAAA,MAAIG,WAAW,MAAI,mCACnBH,YAAA,MAAIG,WAAW,MAAI,iJAErBH,YAAA,MACE,GAAM,+BAA6B,+BAErCA,YAAA,WAAKA,YAAA,QAAMG,WAAW,MAClB,UAAa,uBAAqB,+PAYtCH,YAAA,8VACAA,YAAA,MACE,GAAM,sBAAoB,sBAE5BA,YAAA,+DAA0DA,YAAA,cAAYG,WAAW,KAAG,oBAAkC,wBAAyBH,YAAA,cAAYG,WAAW,KAAG,QAAsB,kKAC/LH,YAAA,MACE,GAAM,iCAA+B,iCAEvCA,YAAA,WAAKA,YAAA,QAAMG,WAAW,MAClB,UAAa,uBAAqB,ybAkBtCH,YAAA,MACE,GAAM,0BAAwB,0BAEhCA,YAAA,WAAKA,YAAA,QAAMG,WAAW,MAClB,UAAa,uBAAqB,4VAWtCH,YAAA,sFAAiFA,YAAA,cAAYG,WAAW,KAAG,gCAA8C,0LAA2LH,YAAA,cAAYG,WAAW,KAAG,0BAAwC,WAGzZ,IAAAT,UAAAb,OAAAa,IAAAb,OAAAC,aAAAY,KAAAb,OAAAE,UAAAC,eAAAC,KAAAS,EAAA,eAAAb,OAAAK,eAAAQ,EAAA,cAAAP,cAAA,EAAAC,MAAA,CAAAC,KAAA,aAAAC,SAAA,6BAEDI,EAAWU,gBAAiB","file":"component---src-docs-exceptions-mdx-5f28a754e543734c083c.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"C:/Users/Sonish Maharjan/Desktop/texpress/node_modules/gatsby-theme-docz/src/base/Layout.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"exceptions-and-handlers\"\n    }}>{`Exceptions and Handlers`}</h1>\n    <h2 {...{\n      \"id\": \"exceptions\"\n    }}>{`Exceptions`}</h2>\n    <p>{`Custom Exceptions can be created by extending the HttpException class from `}<inlineCode parentName=\"p\">{`core`}</inlineCode>{` package. The `}<inlineCode parentName=\"p\">{`HttpException`}</inlineCode>{` takes following properties,`}</p>\n    <ul>\n      <li parentName=\"ul\">{`statusCode: The HTTP status code of the exception`}</li>\n      <li parentName=\"ul\">{`message: The message of the exception`}</li>\n      <li parentName=\"ul\">{`name: The name of the exception`}</li>\n      <li parentName=\"ul\">{`isOperational: The isOperational flag determines whether the error is operational and if the error message can be forwarded to the end user.`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"creating-a-custom-exception\"\n    }}>{`Creating a custom exception`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`class UnauthorizedException extends HttpException {\n    constructor(message = 'You are not authorized') {\n        super(\n            401,\n            message,\n            'Unauthorized',\n            true // isOperational\n        );\n    }\n}\n`}</code></pre>\n    <p>{`The given example creates an Unauthorized exception. The isOperational flag is set to true, meaning, the error message 'You are not authorized' will be passed along to the response. For errors with isOperational flag set to false, a default error message of 'Something went wrong' could be passed or an error HTML page could be rendered.`}</p>\n    <h2 {...{\n      \"id\": \"exception-handlers\"\n    }}>{`Exception Handlers`}</h2>\n    <p>{`Exception Handlers can be created by extending the `}<inlineCode parentName=\"p\">{`ExceptionHandler`}</inlineCode>{` abstract class from `}<inlineCode parentName=\"p\">{`core`}</inlineCode>{` package. The ExceptionHandler abstract class requires a handle method to be implemented. Exception handlers are registered during the server startup process.`}</p>\n    <h3 {...{\n      \"id\": \"creating-an-exception-handler\"\n    }}>{`Creating an exception handler`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`\nclass UnauthorizedExceptionHandler extends ExceptionHandler {\n    public handle(\n        error: HttpException,\n        req: Request,\n        res: Response,\n        next: NextFunction\n    ): void {\n        if (error.statusCode !== 401) {\n            return next(error); // Pass the error to the next error handler\n        }\n        req.flash('error', error.message);\n        return res.redirect('/auth/login');\n    }\n}\n\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"regitering-the-handler\"\n    }}>{`Regitering the handler`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`server.startup(Number(ServerConfig.PORT), {\n    name: 'CMS Server',\n    // ... other configurations\n    exceptionHandlers: [\n        new UnauthorizedExceptionHandler(),\n        new UnprocessableEntityExceptionHandler(),\n        new GlobalExceptionHandler(), // GlobalExceptionHandler should be kept at the end of the list;\n    ],\n});\n`}</code></pre>\n    <p>{`In above example, three exception handlers have been registered. Note how `}<inlineCode parentName=\"p\">{`new GlobalExceptionHandler()`}</inlineCode>{` is kept at the end of the list. Since errors are passed from one handler to the next, if none of the handlers contain the logic to handle the current exception, it is handled by the `}<inlineCode parentName=\"p\">{`GlobalExceptionHandler`}</inlineCode>{`.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}
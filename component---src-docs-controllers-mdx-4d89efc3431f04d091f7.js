(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{CjKN:function(e,t,o){"use strict";o.r(t),o.d(t,"_frontmatter",(function(){return c})),o.d(t,"default",(function(){return d}));var r=o("IKa1"),a=o("Yh9w"),n=(o("r0ML"),o("V0Ug")),l=o("sN0p");o("xH0s");const s=["components"],c={};void 0!==c&&c&&c===Object(c)&&Object.isExtensible(c)&&!Object.prototype.hasOwnProperty.call(c,"__filemeta")&&Object.defineProperty(c,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"src/docs/controllers.mdx"}});const i={_frontmatter:c},b=l.a;function d(e){let{components:t}=e,o=Object(a.a)(e,s);return Object(n.b)(b,Object(r.a)({},i,o,{components:t,mdxType:"MDXLayout"}),Object(n.b)("h1",{id:"controllers-and-route-handlers"},"Controllers and Route Handlers"),Object(n.b)("h2",{id:"controllers"},"Controllers"),Object(n.b)("p",null,"Controllers are classes that has methods for handling requests for the current resource. Controllers are created with the help of decoratos."),Object(n.b)("h3",{id:"creating-controllers"},"Creating controllers"),Object(n.b)("p",null,"To create a controller, create a class and decorate it with either ",Object(n.b)("inlineCode",{parentName:"p"},"Controller()")," or ",Object(n.b)("inlineCode",{parentName:"p"},"ApiController()")," decorator imported from ",Object(n.b)("inlineCode",{parentName:"p"},"core")," packages. Both the decorators take a base url as the first argument."),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-javascript"},"@Controller('/auth')\nclass AuthController {}\n\n@ApiController('/api-auth')\nclass ApiAuthController {}\n")),Object(n.b)("h3",{id:"fallback-controllers"},"Fallback controllers"),Object(n.b)("p",null,"The ",Object(n.b)("inlineCode",{parentName:"p"},"Controller()")," decorator also takes an optional second argument ",Object(n.b)("inlineCode",{parentName:"p"},"options")," for marking the controller as a fallback controller. Fallback controllers are used to handle unknown requests (or routes that are not registered)."),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-javascript"},"\n@Controller('*', { fallback: true }) {\n    @Route({ path: '', method: HTTPMethods.All })\n    handleFallback(_req: Request, _res: Response, next: NextFunction) {\n        return next(new HttpException(HttpStatus.NOT_FOUND, 'Unknown Route Not found'));\n    }\n}\n\n")),Object(n.b)("blockquote",null,Object(n.b)("p",{parentName:"blockquote"},"In above example, the ",Object(n.b)("inlineCode",{parentName:"p"},"'*'")," is used so that the handler will catch any routes, and the ",Object(n.b)("inlineCode",{parentName:"p"},"HttpMethods.ALL ('all')")," is used to identify that the handler should catch any kinds of HTTP methods.")),Object(n.b)("h2",{id:"route-handlers"},"Route Handlers"),Object(n.b)("p",null,"Similar to controllers, route handlers are also registered with the help of decorators. The ",Object(n.b)("inlineCode",{parentName:"p"},"Route()")," decorator is used to mark a method as a route handler. The route method requires a configuration argument to be provided. The configurations include:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"path: The route url."),Object(n.b)("li",{parentName:"ul"},"method: The HTTP method."),Object(n.b)("li",{parentName:"ul"},"middlewares: An optional array of the middlewares to be applied to the route;"),Object(n.b)("li",{parentName:"ul"},"validators: An optional array of validators to be applied to the route. This is used for POST HTTP requests for validating the request payload. For creating these validators, take the ",Object(n.b)("inlineCode",{parentName:"li"},"Validators")," reference;")),Object(n.b)("blockquote",null,Object(n.b)("p",{parentName:"blockquote"},"Note: The controller base path and the route path together are used to define the route parameters.")),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-javascript"},"@Controller('/users')\nclass UserController {\n    @Route({ path: '/find', method: HttpMethods.GET })\n    find(req: Request, res: Response) {\n        // implementation\n    }\n}\n")),Object(n.b)("p",null,"In above example, a GET HTTP route is registered for path ",Object(n.b)("inlineCode",{parentName:"p"},"/users/find"),". The route handler ",Object(n.b)("inlineCode",{parentName:"p"},"find()")," follows the same method definition as the Express.Handlers."))}void 0!==d&&d&&d===Object(d)&&Object.isExtensible(d)&&!Object.prototype.hasOwnProperty.call(d,"__filemeta")&&Object.defineProperty(d,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"src/docs/controllers.mdx"}}),d.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-docs-controllers-mdx-4d89efc3431f04d091f7.js.map